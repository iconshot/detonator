(()=>{var e={3622:function(e,t,n){"use strict";var r,s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Color=void 0;const i=s(n(734));class o{constructor(e,t=100){if(this.hue=e,this.saturation=t,e<0||e>360)throw new Error("Color hue must be between 0 and 360.");if(t<0||t>100)throw new Error("Color saturation must be between 0 and 100.");360===e&&(this.hue=0)}rgb(e){if(e<0||e>100)throw new Error("Color value must be between 0 and 100.");return i.default.hsv.rgb(this.hue,this.saturation,e)}hex(e){if(e<0||e>100)throw new Error("Color value must be between 0 and 100.");return`#${i.default.hsv.hex(this.hue,this.saturation,e)}`}}t.Color=o,o.Hues=((r=class{}).RED=0,r.SCARLET=7.5,r.VERMILION=15,r.TANGELO=22.5,r.ORANGE=30,r.GAMBOGE=37.5,r.AMBER=45,r.GOLD=52.5,r.YELLOW=60,r.APPLE_GREEN=67.5,r.LIME_GREEN=75,r.SPRING_BUD=82.5,r.CHARTREUSE_GREEN=90,r.PISTACHIO=97.5,r.HARLEQUIN=105,r.SAP_GREEN=112.5,r.GREEN=120,r.EMERALD_GREEN=127.5,r.MALACHITE_GREEN=135,r.SEA_GREEN=142.5,r.SPRING_GREEN=150,r.AQUAMARINE=157.5,r.TURQUOISE=165,r.OPAL=172.5,r.CYAN=180,r.ARCTIC_BLUE=187.5,r.CERULEAN=195,r.CORNFLOWER_BLUE=202.5,r.AZURE=210,r.COBALT_BLUE=217.5,r.SAPPHIRE_BLUE=225,r.PHTHALO_BLUE=232.5,r.BLUE=240,r.PERSIAN_BLUE=247.5,r.INDIGO=255,r.BLUE_VIOLET=262.5,r.VIOLET=270,r.PURPLE=277.5,r.MULBERRY=285,r.HELIOTROPE=292.5,r.MAGENTA=300,r.ORCHID=307.5,r.FUCHSIA=315,r.CERISE=322.5,r.ROSE=330,r.RASPBERRY=337.5,r.CRIMSON=345,r.AMARANTH=352.5,r)},4289:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),s(n(3622),t)},5659:(e,t,n)=>{const r=n(8156),s={};for(const e of Object.keys(r))s[r[e]]=e;const i={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};e.exports=i;for(const e of Object.keys(i)){if(!("channels"in i[e]))throw new Error("missing channels property: "+e);if(!("labels"in i[e]))throw new Error("missing channel labels property: "+e);if(i[e].labels.length!==i[e].channels)throw new Error("channel and label counts mismatch: "+e);const{channels:t,labels:n}=i[e];delete i[e].channels,delete i[e].labels,Object.defineProperty(i[e],"channels",{value:t}),Object.defineProperty(i[e],"labels",{value:n})}i.rgb.hsl=function(e){const t=e[0]/255,n=e[1]/255,r=e[2]/255,s=Math.min(t,n,r),i=Math.max(t,n,r),o=i-s;let a,l;i===s?a=0:t===i?a=(n-r)/o:n===i?a=2+(r-t)/o:r===i&&(a=4+(t-n)/o),a=Math.min(60*a,360),a<0&&(a+=360);const u=(s+i)/2;return l=i===s?0:u<=.5?o/(i+s):o/(2-i-s),[a,100*l,100*u]},i.rgb.hsv=function(e){let t,n,r,s,i;const o=e[0]/255,a=e[1]/255,l=e[2]/255,u=Math.max(o,a,l),c=u-Math.min(o,a,l),h=function(e){return(u-e)/6/c+.5};return 0===c?(s=0,i=0):(i=c/u,t=h(o),n=h(a),r=h(l),o===u?s=r-n:a===u?s=1/3+t-r:l===u&&(s=2/3+n-t),s<0?s+=1:s>1&&(s-=1)),[360*s,100*i,100*u]},i.rgb.hwb=function(e){const t=e[0],n=e[1];let r=e[2];const s=i.rgb.hsl(e)[0],o=1/255*Math.min(t,Math.min(n,r));return r=1-1/255*Math.max(t,Math.max(n,r)),[s,100*o,100*r]},i.rgb.cmyk=function(e){const t=e[0]/255,n=e[1]/255,r=e[2]/255,s=Math.min(1-t,1-n,1-r);return[100*((1-t-s)/(1-s)||0),100*((1-n-s)/(1-s)||0),100*((1-r-s)/(1-s)||0),100*s]},i.rgb.keyword=function(e){const t=s[e];if(t)return t;let n,i=1/0;for(const t of Object.keys(r)){const s=(a=r[t],((o=e)[0]-a[0])**2+(o[1]-a[1])**2+(o[2]-a[2])**2);s<i&&(i=s,n=t)}var o,a;return n},i.keyword.rgb=function(e){return r[e]},i.rgb.xyz=function(e){let t=e[0]/255,n=e[1]/255,r=e[2]/255;return t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,[100*(.4124*t+.3576*n+.1805*r),100*(.2126*t+.7152*n+.0722*r),100*(.0193*t+.1192*n+.9505*r)]},i.rgb.lab=function(e){const t=i.rgb.xyz(e);let n=t[0],r=t[1],s=t[2];return n/=95.047,r/=100,s/=108.883,n=n>.008856?n**(1/3):7.787*n+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,s=s>.008856?s**(1/3):7.787*s+16/116,[116*r-16,500*(n-r),200*(r-s)]},i.hsl.rgb=function(e){const t=e[0]/360,n=e[1]/100,r=e[2]/100;let s,i,o;if(0===n)return o=255*r,[o,o,o];s=r<.5?r*(1+n):r+n-r*n;const a=2*r-s,l=[0,0,0];for(let e=0;e<3;e++)i=t+1/3*-(e-1),i<0&&i++,i>1&&i--,o=6*i<1?a+6*(s-a)*i:2*i<1?s:3*i<2?a+(s-a)*(2/3-i)*6:a,l[e]=255*o;return l},i.hsl.hsv=function(e){const t=e[0];let n=e[1]/100,r=e[2]/100,s=n;const i=Math.max(r,.01);return r*=2,n*=r<=1?r:2-r,s*=i<=1?i:2-i,[t,100*(0===r?2*s/(i+s):2*n/(r+n)),(r+n)/2*100]},i.hsv.rgb=function(e){const t=e[0]/60,n=e[1]/100;let r=e[2]/100;const s=Math.floor(t)%6,i=t-Math.floor(t),o=255*r*(1-n),a=255*r*(1-n*i),l=255*r*(1-n*(1-i));switch(r*=255,s){case 0:return[r,l,o];case 1:return[a,r,o];case 2:return[o,r,l];case 3:return[o,a,r];case 4:return[l,o,r];case 5:return[r,o,a]}},i.hsv.hsl=function(e){const t=e[0],n=e[1]/100,r=e[2]/100,s=Math.max(r,.01);let i,o;o=(2-n)*r;const a=(2-n)*s;return i=n*s,i/=a<=1?a:2-a,i=i||0,o/=2,[t,100*i,100*o]},i.hwb.rgb=function(e){const t=e[0]/360;let n=e[1]/100,r=e[2]/100;const s=n+r;let i;s>1&&(n/=s,r/=s);const o=Math.floor(6*t),a=1-r;i=6*t-o,1&o&&(i=1-i);const l=n+i*(a-n);let u,c,h;switch(o){default:case 6:case 0:u=a,c=l,h=n;break;case 1:u=l,c=a,h=n;break;case 2:u=n,c=a,h=l;break;case 3:u=n,c=l,h=a;break;case 4:u=l,c=n,h=a;break;case 5:u=a,c=n,h=l}return[255*u,255*c,255*h]},i.cmyk.rgb=function(e){const t=e[0]/100,n=e[1]/100,r=e[2]/100,s=e[3]/100;return[255*(1-Math.min(1,t*(1-s)+s)),255*(1-Math.min(1,n*(1-s)+s)),255*(1-Math.min(1,r*(1-s)+s))]},i.xyz.rgb=function(e){const t=e[0]/100,n=e[1]/100,r=e[2]/100;let s,i,o;return s=3.2406*t+-1.5372*n+-.4986*r,i=-.9689*t+1.8758*n+.0415*r,o=.0557*t+-.204*n+1.057*r,s=s>.0031308?1.055*s**(1/2.4)-.055:12.92*s,i=i>.0031308?1.055*i**(1/2.4)-.055:12.92*i,o=o>.0031308?1.055*o**(1/2.4)-.055:12.92*o,s=Math.min(Math.max(0,s),1),i=Math.min(Math.max(0,i),1),o=Math.min(Math.max(0,o),1),[255*s,255*i,255*o]},i.xyz.lab=function(e){let t=e[0],n=e[1],r=e[2];return t/=95.047,n/=100,r/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,[116*n-16,500*(t-n),200*(n-r)]},i.lab.xyz=function(e){let t,n,r;n=(e[0]+16)/116,t=e[1]/500+n,r=n-e[2]/200;const s=n**3,i=t**3,o=r**3;return n=s>.008856?s:(n-16/116)/7.787,t=i>.008856?i:(t-16/116)/7.787,r=o>.008856?o:(r-16/116)/7.787,t*=95.047,n*=100,r*=108.883,[t,n,r]},i.lab.lch=function(e){const t=e[0],n=e[1],r=e[2];let s;return s=360*Math.atan2(r,n)/2/Math.PI,s<0&&(s+=360),[t,Math.sqrt(n*n+r*r),s]},i.lch.lab=function(e){const t=e[0],n=e[1],r=e[2]/360*2*Math.PI;return[t,n*Math.cos(r),n*Math.sin(r)]},i.rgb.ansi16=function(e,t=null){const[n,r,s]=e;let o=null===t?i.rgb.hsv(e)[2]:t;if(o=Math.round(o/50),0===o)return 30;let a=30+(Math.round(s/255)<<2|Math.round(r/255)<<1|Math.round(n/255));return 2===o&&(a+=60),a},i.hsv.ansi16=function(e){return i.rgb.ansi16(i.hsv.rgb(e),e[2])},i.rgb.ansi256=function(e){const t=e[0],n=e[1],r=e[2];return t===n&&n===r?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)},i.ansi16.rgb=function(e){let t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];const n=.5*(1+~~(e>50));return[(1&t)*n*255,(t>>1&1)*n*255,(t>>2&1)*n*255]},i.ansi256.rgb=function(e){if(e>=232){const t=10*(e-232)+8;return[t,t,t]}let t;return e-=16,[Math.floor(e/36)/5*255,Math.floor((t=e%36)/6)/5*255,t%6/5*255]},i.rgb.hex=function(e){const t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},i.hex.rgb=function(e){const t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let n=t[0];3===t[0].length&&(n=n.split("").map((e=>e+e)).join(""));const r=parseInt(n,16);return[r>>16&255,r>>8&255,255&r]},i.rgb.hcg=function(e){const t=e[0]/255,n=e[1]/255,r=e[2]/255,s=Math.max(Math.max(t,n),r),i=Math.min(Math.min(t,n),r),o=s-i;let a,l;return a=o<1?i/(1-o):0,l=o<=0?0:s===t?(n-r)/o%6:s===n?2+(r-t)/o:4+(t-n)/o,l/=6,l%=1,[360*l,100*o,100*a]},i.hsl.hcg=function(e){const t=e[1]/100,n=e[2]/100,r=n<.5?2*t*n:2*t*(1-n);let s=0;return r<1&&(s=(n-.5*r)/(1-r)),[e[0],100*r,100*s]},i.hsv.hcg=function(e){const t=e[1]/100,n=e[2]/100,r=t*n;let s=0;return r<1&&(s=(n-r)/(1-r)),[e[0],100*r,100*s]},i.hcg.rgb=function(e){const t=e[0]/360,n=e[1]/100,r=e[2]/100;if(0===n)return[255*r,255*r,255*r];const s=[0,0,0],i=t%1*6,o=i%1,a=1-o;let l=0;switch(Math.floor(i)){case 0:s[0]=1,s[1]=o,s[2]=0;break;case 1:s[0]=a,s[1]=1,s[2]=0;break;case 2:s[0]=0,s[1]=1,s[2]=o;break;case 3:s[0]=0,s[1]=a,s[2]=1;break;case 4:s[0]=o,s[1]=0,s[2]=1;break;default:s[0]=1,s[1]=0,s[2]=a}return l=(1-n)*r,[255*(n*s[0]+l),255*(n*s[1]+l),255*(n*s[2]+l)]},i.hcg.hsv=function(e){const t=e[1]/100,n=t+e[2]/100*(1-t);let r=0;return n>0&&(r=t/n),[e[0],100*r,100*n]},i.hcg.hsl=function(e){const t=e[1]/100,n=e[2]/100*(1-t)+.5*t;let r=0;return n>0&&n<.5?r=t/(2*n):n>=.5&&n<1&&(r=t/(2*(1-n))),[e[0],100*r,100*n]},i.hcg.hwb=function(e){const t=e[1]/100,n=t+e[2]/100*(1-t);return[e[0],100*(n-t),100*(1-n)]},i.hwb.hcg=function(e){const t=e[1]/100,n=1-e[2]/100,r=n-t;let s=0;return r<1&&(s=(n-r)/(1-r)),[e[0],100*r,100*s]},i.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},i.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},i.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},i.gray.hsl=function(e){return[0,0,e[0]]},i.gray.hsv=i.gray.hsl,i.gray.hwb=function(e){return[0,100,e[0]]},i.gray.cmyk=function(e){return[0,0,0,e[0]]},i.gray.lab=function(e){return[e[0],0,0]},i.gray.hex=function(e){const t=255&Math.round(e[0]/100*255),n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(n.length)+n},i.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}},734:(e,t,n)=>{const r=n(5659),s=n(8507),i={};Object.keys(r).forEach((e=>{i[e]={},Object.defineProperty(i[e],"channels",{value:r[e].channels}),Object.defineProperty(i[e],"labels",{value:r[e].labels});const t=s(e);Object.keys(t).forEach((n=>{const r=t[n];i[e][n]=function(e){const t=function(...t){const n=t[0];if(null==n)return n;n.length>1&&(t=n);const r=e(t);if("object"==typeof r)for(let e=r.length,t=0;t<e;t++)r[t]=Math.round(r[t]);return r};return"conversion"in e&&(t.conversion=e.conversion),t}(r),i[e][n].raw=function(e){const t=function(...t){const n=t[0];return null==n?n:(n.length>1&&(t=n),e(t))};return"conversion"in e&&(t.conversion=e.conversion),t}(r)}))})),e.exports=i},8507:(e,t,n)=>{const r=n(5659);function s(e,t){return function(n){return t(e(n))}}function i(e,t){const n=[t[e].parent,e];let i=r[t[e].parent][e],o=t[e].parent;for(;t[o].parent;)n.unshift(t[o].parent),i=s(r[t[o].parent][o],i),o=t[o].parent;return i.conversion=n,i}e.exports=function(e){const t=function(e){const t=function(){const e={},t=Object.keys(r);for(let n=t.length,r=0;r<n;r++)e[t[r]]={distance:-1,parent:null};return e}(),n=[e];for(t[e].distance=0;n.length;){const e=n.pop(),s=Object.keys(r[e]);for(let r=s.length,i=0;i<r;i++){const r=s[i],o=t[r];-1===o.distance&&(o.distance=t[e].distance+1,o.parent=e,n.unshift(r))}}return t}(e),n={},s=Object.keys(t);for(let e=s.length,r=0;r<e;r++){const e=s[r];null!==t[e].parent&&(n[e]=i(e,t))}return n}},8156:e=>{"use strict";e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},1478:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseView=void 0;const r=n(1479),s=n(692);class i extends r.Component{style(e){s.Detonator.style(this,e)}}t.BaseView=i},5185:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((r=r.apply(e,t||[])).next())}))},s=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Image=void 0;const o=i(n(1479)),a=n(692),l=n(1478);class u extends l.BaseView{render(){const e=this.props,{children:t}=e,n=s(e,["children"]);return(0,o.default)("com.iconshot.detonator.image",n,t)}static getSize(e){return r(this,void 0,void 0,(function*(){return yield a.Detonator.request({name:"com.iconshot.detonator.image/getSize",data:e})}))}}t.Image=u},5044:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((r=r.apply(e,t||[])).next())}))},s=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Input=void 0;const o=i(n(1479)),a=n(692),l=n(1478);class u extends l.BaseView{constructor(){super(...arguments),this.value=""}init(){const{value:e}=this.props;this.value=null!=e?e:""}focus(){return r(this,void 0,void 0,(function*(){yield a.Detonator.request({name:"com.iconshot.detonator.input/focus"},this)}))}blur(){return r(this,void 0,void 0,(function*(){yield a.Detonator.request({name:"com.iconshot.detonator.input/blur"},this)}))}render(){const e=this.props,{children:t,onChange:n=null}=e,r=s(e,["children","onChange"]),i=Object.assign(Object.assign({},r),{onChange:e=>{this.value=e.value,null!==n&&n(e)}});return(0,o.default)("com.iconshot.detonator.input",i,t)}}t.Input=u},7277:function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Text=void 0;const i=s(n(1479)),o=n(1478);class a extends o.BaseView{render(){const e=this.props,{children:t}=e,n=r(e,["children"]);return(0,i.default)("com.iconshot.detonator.text",n,t)}}t.Text=a},1012:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((r=r.apply(e,t||[])).next())}))},s=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TextArea=void 0;const o=i(n(1479)),a=n(692),l=n(1478);class u extends l.BaseView{constructor(){super(...arguments),this.value=""}init(){const{value:e}=this.props;this.value=null!=e?e:""}focus(){return r(this,void 0,void 0,(function*(){yield a.Detonator.request({name:"com.iconshot.detonator.textarea/focus"},this)}))}blur(){return r(this,void 0,void 0,(function*(){yield a.Detonator.request({name:"com.iconshot.detonator.textarea/blur"},this)}))}render(){const e=this.props,{children:t,onChange:n=null}=e,r=s(e,["children","onChange"]),i=Object.assign(Object.assign({},r),{onChange:e=>{this.value=e.value,null!==n&&n(e)}});return(0,o.default)("com.iconshot.detonator.textarea",i,t)}}t.TextArea=u},903:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((r=r.apply(e,t||[])).next())}))},s=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Video=void 0;const o=i(n(1479)),a=n(692),l=n(1478);class u extends l.BaseView{play(){return r(this,void 0,void 0,(function*(){yield a.Detonator.request({name:"com.iconshot.detonator.video/play"},this)}))}pause(){return r(this,void 0,void 0,(function*(){yield a.Detonator.request({name:"com.iconshot.detonator.video/pause"},this)}))}seek(e){return r(this,void 0,void 0,(function*(){yield a.Detonator.request({name:"com.iconshot.detonator.video/seek",data:e},this)}))}render(){const e=this.props,{children:t}=e,n=s(e,["children"]);return(0,o.default)("com.iconshot.detonator.video",n,t)}}t.Video=u},5179:function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.View=void 0;const i=s(n(1479)),o=n(1478);class a extends o.BaseView{render(){const e=this.props,{children:t}=e,n=r(e,["children"]);return(0,i.default)("com.iconshot.detonator.view",n,t)}}t.View=a},692:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Detonator=void 0;const s=n(446),i=n(8167),o=n(2810);class a{static mount(e){this.tree.mount(e)}static unmount(){this.tree.unmount()}static createTree(e){return s.TreeHub.createTree(e)}static style(e,t){const n=s.TreeHub.getComponentId(e);if(null===n)throw new Error("Component is not mounted.");const r=s.TreeHub.edges.get(n).children[0].id,o=Object.keys(t);if(0===o.length)return;let a=this.styleItems.find((e=>e.elementId===r));void 0===a?(a={elementId:r,style:t,keys:o},this.styleItems.push(a)):(a.style=Object.assign(Object.assign({},a.style),t),a.keys=[...a.keys,...o.filter((e=>!a.keys.includes(e)))]),clearTimeout(this.styleTimeout),this.styleTimeout=setTimeout((()=>{const e=this.styleItems.filter((e=>s.TreeHub.edges.has(e.elementId)));this.styleItems=[],0!==e.length&&i.Messenger.style(e)}))}static request(e){return r(this,arguments,void 0,(function*({name:e,data:t=null},n=null){let r=null;if(null!==n&&(r=s.TreeHub.getComponentId(n),null===r))throw new Error("Component is not mounted.");return new Promise(((n,s)=>{const a={id:this.requestId++,name:e,data:null!==t?JSON.stringify(t):null,componentId:r},l=e=>{const t=JSON.parse(e);t.id===a.id&&(null!==t.error?s(new Error(t.error.message)):n(t.data),o.WindowEmitter.off("response",l))};o.WindowEmitter.on("response",l),i.Messenger.request(a)}))}))}static log(e){i.Messenger.log(e)}}t.Detonator=a,a.requestId=0,a.tree=s.TreeHub.createTree(),a.styleItems=[]},2810:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WindowEmitter=void 0;const r=n(1479);t.WindowEmitter=new r.Emitter,window.emitter=t.WindowEmitter},8896:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorHandler=void 0;const r=n(1479),s=n(8167);class i{static handle(e){s.Messenger.log(`[ErrorHandler] ${e.message}`)}}t.ErrorHandler=i,r.Emitter.onError=e=>{i.handle(e)}},8849:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventManager=void 0;const r=n(2810);t.EventManager=class{static bind(e,t){r.WindowEmitter.on("event",(n=>{const{name:r,data:s}=JSON.parse(n);if(r!==e)return;const i=e.split("/").pop();t.emit(i,s)}))}}},6221:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HandlerManager=void 0;const r=n(2810),s=n(446);class i{static addHandlerListener(){r.WindowEmitter.on("handler",(e=>{var t;const{name:n,edgeId:r,data:i}=JSON.parse(e),o=this.getEventName(n),a=null!==(t=s.TreeHub.edges.get(r))&&void 0!==t?t:null;if(null===a)return;const l=new Event(o,{bubbles:!0});if(null!==i)for(const e in i)l[e]=i[e];a.element.dispatchEvent(l)}))}static isHandlerName(e){return/^on[A-Z]/.test(e)}static getEventName(e){return e.substring(2).toLocaleLowerCase()}}t.HandlerManager=i,i.addHandlerListener()},8167:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Messenger=void 0,t.Messenger=class{static postMessage(e,t){const n=JSON.stringify({action:e,data:JSON.stringify(t)}),r=window;void 0===r.Detonator?r.webkit.messageHandlers.detonator.postMessage(n):r.Detonator.postMessage(n)}static treeInit(e){this.postMessage("treeInit",e)}static treeDeinit(e){this.postMessage("treeDeinit",e)}static mount(e){this.postMessage("mount",e)}static unmount(e){this.postMessage("unmount",e)}static rerender(e){this.postMessage("rerender",e)}static style(e){this.postMessage("style",e)}static request(e){this.postMessage("request",e)}static log(e){this.postMessage("log",e)}}},9925:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AppState=void 0;const r=n(1479),s=n(8849);class i extends r.Emitter{constructor(){super(),this.currentState=null,s.EventManager.bind("com.iconshot.detonator.appstate/state",this),this.on("state",(e=>{this.currentState=e}))}}t.AppState=new i},340:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Storage=void 0;const s=n(692);t.Storage=class{constructor(e=null){this.name=null!=e?e:"com.iconshot.detonator.storage"}getItem(e){return r(this,void 0,void 0,(function*(){const t=this.name;return yield s.Detonator.request({name:"com.iconshot.detonator.storage/getItem",data:{name:t,key:e}})}))}setItem(e,t){return r(this,void 0,void 0,(function*(){const n=this.name;yield s.Detonator.request({name:"com.iconshot.detonator.storage/setItem",data:{name:n,key:e,value:t}})}))}}},1904:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Edge=void 0;class n{constructor(e,t=null,n=0,r=[],s=null,i=null,o=null,a=null){this.slot=e,this.parent=t,this.depth=n,this.children=r,this.component=s,this.hookster=i,this.id=o,this.element=a}clone(){return new n(this.slot,this.parent,this.depth,this.children,this.component,this.hookster,this.id,this.element)}}t.Edge=n},3690:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StackItem=void 0,t.StackItem=class{constructor(e,t){this.edge=e,this.element=t}}},9752:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Target=void 0,t.Target=class{constructor(e,t=0){this.element=e,this.index=t}insert(e){const t=this.index<this.element.childNodes.length?this.element.childNodes[this.index]:null;null!==t?e!==t&&this.element.insertBefore(e,t):this.element.appendChild(e),this.index++}remove(e){this.element.removeChild(e)}}},9121:function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.Tree=void 0;const s=n(1479),i=n(8167),o=n(8896),a=n(6221),l=n(1904),u=n(3690),c=n(9752),h=n(446);t.Tree=class{constructor(e,t){var n,r;this.treeId=e,this.edge=null,this.stack=[],this.deinitialized=!1,this.element=null!==(n=null==t?void 0:t.element)&&void 0!==n?n:document.createElement("root");const s=null!==(r=null==t?void 0:t.id)&&void 0!==r?r:null;i.Messenger.treeInit({treeId:e,elementId:s})}deinit(){this.deinitialized||(this.unmount(),this.deinitialized=!0,i.Messenger.treeDeinit({treeId:this.treeId}))}mount(e){if(this.deinitialized)return;null!==this.edge&&this.unmount();const t=new c.Target(this.element);this.edge=new l.Edge(e),this.renderEdge(this.edge,null,t);const n=this.serializeEdge(this.edge);i.Messenger.mount({treeId:this.treeId,edge:n})}unmount(){if(this.deinitialized)return;if(null===this.edge)return;const e=new c.Target(this.element);this.unmountEdge(this.edge,e),this.edge=null,this.stack=[],clearTimeout(this.timeout),i.Messenger.unmount({treeId:this.treeId})}queue(e,t){const n=new u.StackItem(e,t);this.stack.push(n),clearTimeout(this.timeout),this.timeout=setTimeout((()=>{this.rerender()}))}unqueue(e){this.stack=this.stack.filter((t=>null!==e.component?t.edge.component!==e.component:null===e.hookster||t.edge.hookster!==e.hookster))}rerender(e=[]){if(0===this.stack.length)return void i.Messenger.rerender({treeId:this.treeId,edges:e});this.stack.sort(((e,t)=>e.edge.depth-t.edge.depth));const t=this.stack[0],n=t.edge,r=t.element,s=n.clone(),o=this.findTargetIndex(n,r),a=new c.Target(r,o);this.renderEdge(n,s,a);const l=this.serializeEdge(n);e.push(l),this.rerender(e)}createChildren(e){const t=e.slot,n=(t instanceof s.Slot?t.getChildren():[]).map((t=>new l.Edge(t,e,e.depth+1)));e.children=n}renderChildren(e,t,n){var r;this.createChildren(e);const i=e.children,o=null!==(r=null==t?void 0:t.children)&&void 0!==r?r:[];for(let e=0;e<o.length;e++){const t=o[e];let r=null;const a=t.slot;if(a instanceof s.Slot&&null!==a.getKey())for(const e of i)if(this.isEqual(t,e)){r=e;break}if(null===r&&e<i.length){const n=i[e];this.isEqual(t,n)&&(r=n)}null===r&&this.unmountEdge(t,n)}for(let e=0;e<i.length;e++){const t=i[e];let r=null;const a=t.slot;if(a instanceof s.Slot&&null!==a.getKey())for(const e of o)if(this.isEqual(t,e)){r=e;break}if(null===r&&e<o.length){const n=o[e];this.isEqual(t,n)&&(r=n)}this.renderEdge(t,r,n)}}renderEdge(e,t,n){const r=e.slot;null!==t?(e.children=t.children,e.id=t.id):e.id=h.TreeHub.edgeId++;try{r instanceof s.Slot?r.isComponent()?this.renderComponent(e,t,n):r.isFunction()?this.renderFunction(e,t,n):r.isElement()?this.renderElement(e,t,n):r.isNull()&&this.renderNull(e,t,n):null!=r&&!1!==r&&this.renderText(e,t,n)}catch(e){o.ErrorHandler.handle(e)}h.TreeHub.edges.set(e.id,e)}renderComponent(e,t,n){var r,i,o;const a=e.slot,l=null!==(r=null==t?void 0:t.slot)&&void 0!==r?r:null,u=a.getContentType(),c=a.getProps();let d=null!==(i=null==t?void 0:t.component)&&void 0!==i?i:null;null===d?(d=new u(c),d.init()):d.updateProps(c),e.component=d,h.TreeHub.components.set(d,e),this.unqueue(e);const f=a.getRef(),p=null!==(o=null==l?void 0:l.getRef())&&void 0!==o?o:null;p instanceof s.Ref&&p!==f&&(p.current=null),f instanceof s.Ref&&f!==p&&(f.current=d);const m=d.render();a.setChildren(m),this.renderChildren(e,t,n),queueMicrotask((()=>{d.triggerRender((()=>{this.queue(e,n.element)}))}))}renderFunction(e,t,n){var r;const i=e.slot,o=i.getContentType(),a=i.getProps();let l=null!==(r=null==t?void 0:t.hookster)&&void 0!==r?r:null;null===l&&(l=new s.Hookster),e.hookster=l,this.unqueue(e),l.activate();const u=o(a);l.deactivate(),i.setChildren(u),this.renderChildren(e,t,n),queueMicrotask((()=>{l.hook((()=>{this.queue(e,n.element)}))}))}renderElement(e,t,n){var r;let s=null!==(r=null==t?void 0:t.element)&&void 0!==r?r:null;null===s&&(s=this.createElement(e)),e.element=s,this.patchElement(e,t);const i=new c.Target(s);this.renderChildren(e,t,i),n.insert(s)}renderText(e,t,n){}renderNull(e,t,n){this.renderChildren(e,t,n)}unmountEdge(e,t){const n=e.slot,r=e.element,i=e.component,o=e.hookster,a=e.children;let l=t;null!==r&&(t.remove(r),n instanceof s.Slot&&n.isElement()&&(l=new c.Target(r)));const u=n instanceof s.Slot?n.getRef():null;u instanceof s.Ref&&(u.current=null);for(const e of a)this.unmountEdge(e,l);null!==i&&(h.TreeHub.components.delete(i),this.unqueue(e),queueMicrotask((()=>{i.triggerUnmount()}))),null!==o&&(this.unqueue(e),queueMicrotask((()=>{o.unhook()}))),h.TreeHub.edges.delete(e.id)}isEqual(e,t){const n=e.slot,r=t.slot;if(n instanceof s.Slot){if(!(r instanceof s.Slot))return!1;const e=n.getContentType(),t=n.getKey(),i=r.getContentType(),o=r.getKey();return e===i&&t===o}return null==n||!1===n?null==r||!1===r:null!=r&&!1!==r&&!(r instanceof s.Slot)}createElement(e){const t=e.slot.getContentType();return document.createElement(t)}patchElement(e,t){var n,r,s,i,o;const l=e.slot,u=e.element,c=null!==(n=null==t?void 0:t.slot)&&void 0!==n?n:null,h=null!==(r=l.getAttributes())&&void 0!==r?r:{},d=null!==(s=null==c?void 0:c.getAttributes())&&void 0!==s?s:{};for(const e in h){if(!a.HandlerManager.isHandlerName(e))continue;const t=null!==(i=h[e])&&void 0!==i?i:null,n=null!==(o=d[e])&&void 0!==o?o:null,r="function"==typeof t,s="function"==typeof n,l=a.HandlerManager.getEventName(e);null!==t?r&&t!==n&&(null!==n&&s&&u.removeEventListener(l,n),u.addEventListener(l,t)):null!==n&&s&&u.removeEventListener(l,n)}for(const e in d){if(e in h)continue;if(!a.HandlerManager.isHandlerName(e))continue;const t=d[e],n="function"==typeof t,r=a.HandlerManager.getEventName(e);null!==t&&n&&u.removeEventListener(r,t)}}findTargetIndex(e,t){const n=e.parent;if(null===n)return 0;const r=n.element,s=n.children;for(let n=s.indexOf(e)-1;n>=0;n--){const e=s[n],r=this.findElementIndex(e,t);if(null!==r)return r+1}return r===t?0:this.findTargetIndex(n,t)}findElementIndex(e,t){const n=e.element,r=e.children;if(null!==n)return[...t.childNodes].indexOf(n);for(let e=r.length-1;e>=0;e--){const n=r[e],s=this.findElementIndex(n,t);if(null!==s)return s}return null}serializeEdge(e,t=null){const n=e.slot,r=e.children;let i=null;n instanceof s.Slot?n.isComponent()?i=this.serializeComponent(e):n.isFunction()?i=this.serializeFunction(e):n.isElement()?i=this.serializeElement(e):n.isNull()&&(i=this.serializeNull(e)):i=null!=n&&!1!==n?this.serializeText(e):this.serializeEmpty(e);for(const e of r)this.serializeEdge(e,i);return null!==t&&t.children.push(i),i}serializeComponent(e){var t,n;const r=e.id,s=null!==(n=null===(t=e.parent)||void 0===t?void 0:t.id)&&void 0!==n?n:null;return this.serializeSlot({id:r,parent:s})}serializeFunction(e){var t,n;const r=e.id,s=null!==(n=null===(t=e.parent)||void 0===t?void 0:t.id)&&void 0!==n?n:null;return this.serializeSlot({id:r,parent:s})}serializeElement(e){var t,n;const s=e.id,i=e.slot,o=null!==(n=null===(t=e.parent)||void 0===t?void 0:t.id)&&void 0!==n?n:null,a=i.getContentType(),l=i.getProps(),{children:u}=l,c=r(l,["children"]);return this.serializeSlot({id:s,parent:o,contentType:a,attributes:c})}serializeText(e){var t,n;const r=e.id,s=e.slot,i=null!==(n=null===(t=e.parent)||void 0===t?void 0:t.id)&&void 0!==n?n:null,o=`${s}`;return this.serializeSlot({id:r,parent:i,text:o})}serializeNull(e){var t,n;const r=e.id,s=null!==(n=null===(t=e.parent)||void 0===t?void 0:t.id)&&void 0!==n?n:null;return this.serializeSlot({id:r,parent:s})}serializeEmpty(e){var t,n;const r=e.id,s=null!==(n=null===(t=e.parent)||void 0===t?void 0:t.id)&&void 0!==n?n:null;return this.serializeSlot({id:r,parent:s})}serializeSlot({id:e,parent:t,contentType:n=null,attributes:r=null,children:s=[],text:i=null}){let o=null;if(null!==r){for(const e in r)"function"==typeof r[e]&&(r[e]=!0);o=JSON.stringify(r)}return{id:e,parent:t,contentType:n,attributes:o,children:s,text:i}}}},446:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TreeHub=void 0;const r=n(9121);class s{static createTree(e=null){let t=null;if(null!==e){const n=this.getComponentId(e);if(null===n)throw new Error("View component is not mounted.");t=this.edges.get(n).children[0]}return new r.Tree(this.treeId++,t)}static getComponentId(e){var t,n;return null!==(n=null===(t=this.components.get(e))||void 0===t?void 0:t.id)&&void 0!==n?n:null}}t.TreeHub=s,s.treeId=0,s.edgeId=0,s.edges=new Map,s.components=new Map},6640:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Color=void 0;const r=n(4289);class s extends r.Color{rgba(e,t){if(t<0||t>1)throw new Error("Color alpha should be between 0 and 1.");return[...this.rgb(e),t]}}t.Color=s},8220:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Platform=void 0;class n{static get(){return window.__detonator_platform}}t.Platform=n,"android"===n.get()&&(window.requestAnimationFrame=void 0,window.cancelAnimationFrame=void 0)},2440:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Toast=void 0;const s=n(692);t.Toast=class{static show(e){return r(this,arguments,void 0,(function*(e,t=!0){yield s.Detonator.request({name:"com.iconshot.detonator.toast/show",data:{text:e,isShort:t}})}))}}},8716:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0});const i=n(692);t.default=i.Detonator,s(n(5179),t),s(n(7277),t),s(n(5044),t),s(n(1012),t),s(n(5185),t),s(n(903),t),s(n(2440),t),s(n(6640),t),s(n(8220),t),s(n(9925),t),s(n(340),t)},4548:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EverEmitter=void 0,t.EverEmitter=class{constructor(e){var t;this.events=new Map,this.ignoreErrors=null!==(t=null==e?void 0:e.ignoreErrors)&&void 0!==t&&t,this.onError=null==e?void 0:e.onError}on(e,t){let n=this.events.get(e);void 0===n&&(n=[],this.events.set(e,n));const r={closure:t,once:!1};n.push(r)}once(e,t){let n=this.events.get(e);void 0===n&&(n=[],this.events.set(e,n));const r={closure:t,once:!0};n.push(r)}off(e,t){if(void 0===e)return void this.events.clear();let n=this.events.get(e);if(void 0===n)return;const r=void 0!==t?n.filter((e=>e.closure!==t)):[];this.updateListeners(e,r)}emit(e,...t){const n=this.events.get(e);if(void 0===n)return;const r=[...n];this.runListeners(e,r,...t)}emitReversed(e,...t){const n=this.events.get(e);if(void 0===n)return;const r=[...n].reverse();this.runListeners(e,r,...t)}removeListenerIfOnce(e,t){if(!t.once)return;let n=this.events.get(e);if(void 0===n)return;const r=n.filter((e=>e!==t));this.updateListeners(e,r)}updateListeners(e,t){0===t.length?this.events.delete(e):this.events.set(e,t)}runListeners(e,t,...n){if(this.ignoreErrors)for(const r of t){this.removeListenerIfOnce(e,r);try{if(!1===r.closure(...n))return}catch(e){}}else if(void 0===this.onError){for(const r of t)if(this.removeListenerIfOnce(e,r),!1===r.closure(...n))return}else for(const r of t){this.removeListenerIfOnce(e,r);try{if(!1===r.closure(...n))return}catch(t){if(!1===this.onError(t,e,...n))return}}}}},2390:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),s(n(4548),t)},478:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(1479)),a=n(8716),l=new a.Color(a.Color.Hues.CERULEAN);t.default=function(){const[e,t]=o.Hook.useState(0),n=o.Hook.useRef(),r=o.Hook.useMemo((()=>new o.Animation(0)));return o.Hook.useAnimation(r,(()=>{n.current.style({opacity:r.interpolate([0,1],[1,0]),top:r.interpolate([0,1],[0,50])})})),(0,o.default)(a.View,{style:{width:"100%",height:"100%",justifyContent:"center",alignItems:"center"}},[(0,o.default)(a.Text,{style:{fontSize:30,marginBottom:30}},"Hello, world."),(0,o.default)(a.Text,{ref:n,style:{fontSize:24,marginBottom:30}},e),(0,o.default)(a.View,{style:{borderRadius:10,backgroundColor:l.hex(90),justifyContent:"center",alignItems:"center",paddingTop:15,paddingBottom:15,paddingLeft:25,paddingRight:25},onTap:()=>{r.animate(1,150).on("end",(()=>{t(e+1).done((()=>{r.animate(0,150)}))}))}},(0,o.default)(a.Text,{style:{color:"white",fontSize:18}},"Tap"))])}},7729:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=r(n(1479)),i=r(n(8716)),o=r(n(478));i.default.mount((0,s.default)(o.default))},420:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Animation=void 0;const r=n(3565),s=n(1415);class i extends r.Emitter{constructor(e){super(),this.value=e,this.transition=null}getValue(){return this.value}updateValue(e){this.value=e,this.emit("update")}bind(e,t){e.on("mount",(()=>{this.on("update",t)})),e.on("unmount",(()=>{this.off("update",t)})),e.on("render",t)}animate(e,t,n=null){null!==this.transition&&this.transition.cancel();const r=new s.Transition(this,e,t,n);return setTimeout((()=>{r.start()})),this.transition=r,this.transition}split(e){let t=0,n=null;const r=e.match(/^(\d*\.\d+|\d+)([a-zA-Z%]+)?$/);if(null===r)throw new Error("Invalid output item.");return t=parseFloat(r[1]),void 0!==r[2]&&(n=r[2]),{num:t,unit:n}}interpolate(e,t){if(e.length<2)throw new Error("Input needs at least two items.");if(e.length!==t.length)throw new Error("Input and output must have the same number of items.");if(!e.every(((t,n)=>e.indexOf(t)===n)))throw new Error("Input must not have repeated items.");if(!e.every(((t,n)=>0===n||t>e[n-1])))throw new Error("Input must be in ascending order.");const n=t.map((e=>typeof e));if(!n.every((e=>e===n[0])))throw new Error("Output must be an array of strings or an array of numbers.");const r="string"===n[0],s=t.map((e=>r?this.split(e):{num:e,unit:null}));if(!s.every((e=>e.unit===s[0].unit)))throw new Error("All output units must be the same.");const i=s.map((e=>e.num));let o;const a=s[0].unit,l=e.indexOf(this.value);if(-1!==l)o=i[l];else{let t,n,r,s;const a=e.length-1;if(this.value>e[a]){const o=a;t=e[o],n=e[o]+(e[o]-e[o-1]),r=i[o],s=i[o]+(i[o]-i[o-1])}else{let o=0;for(let t=0;t<e.length&&!(e[t]>this.value);t++)o=t;t=e[o],n=e[o+1],r=i[o],s=i[o+1]}const l=n-t,u=s-r;o=r+(this.value-t)*u/l}return r?`${o}${null!=a?a:""}`:o}}t.Animation=i},195:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AnimationFrame=void 0,t.AnimationFrame=class{static request(e){return"undefined"!=typeof requestAnimationFrame?requestAnimationFrame(e):setTimeout((()=>{const t=performance.now();e(t)}),1e3/60)}static cancel(e){void 0!==e&&("undefined"==typeof cancelAnimationFrame?clearTimeout(e):cancelAnimationFrame(e))}}},6681:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Easing=void 0;class n{static easeInSine(e){return 1-Math.cos(e*Math.PI/2)}static easeOutSine(e){return Math.sin(e*Math.PI/2)}static easeInOutSine(e){return-(Math.cos(Math.PI*e)-1)/2}static easeInQuad(e){return e*e}static easeOutQuad(e){return 1-(1-e)*(1-e)}static easeInOutQuad(e){return e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2}static easeInCubic(e){return e*e*e}static easeOutCubic(e){return 1-Math.pow(1-e,3)}static easeInOutCubic(e){return e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2}static easeInQuart(e){return e*e*e*e}static easeOutQuart(e){return 1-Math.pow(1-e,4)}static easeInOutQuart(e){return e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2}static easeInQuint(e){return e*e*e*e*e}static easeOutQuint(e){return 1-Math.pow(1-e,5)}static easeInOutQuint(e){return e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2}static easeInExpo(e){return 0===e?0:Math.pow(2,10*e-10)}static easeOutExpo(e){return 1===e?1:1-Math.pow(2,-10*e)}static easeInOutExpo(e){return 0===e?0:1===e?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2}static easeInCirc(e){return 1-Math.sqrt(1-Math.pow(e,2))}static easeOutCirc(e){return Math.sqrt(1-Math.pow(e-1,2))}static easeInOutCirc(e){return e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2}static easeInBack(e){return 2.70158*e*e*e-1.70158*e*e}static easeOutBack(e){return 1+2.70158*Math.pow(e-1,3)+1.70158*Math.pow(e-1,2)}static easeInOutBack(e){const t=2.5949095;return e<.5?Math.pow(2*e,2)*(7.189819*e-t)/2:(Math.pow(2*e-2,2)*((t+1)*(2*e-2)+t)+2)/2}static easeInElastic(e){const t=2*Math.PI/3;return 0===e?0:1===e?1:-Math.pow(2,10*e-10)*Math.sin((10*e-10.75)*t)}static easeOutElastic(e){const t=2*Math.PI/3;return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin((10*e-.75)*t)+1}static easeInOutElastic(e){const t=2*Math.PI/4.5;return 0===e?0:1===e?1:e<.5?-Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*t)/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*t)/2+1}static easeInBounce(e){return 1-n.easeOutBounce(1-e)}static easeOutBounce(e){const t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375}static easeInOutBounce(e){return e<.5?(1-n.easeOutBounce(1-2*e))/2:(1+n.easeOutBounce(2*e-1))/2}}t.Easing=n},1415:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Transition=void 0;const r=n(3565),s=n(195);class i extends r.Emitter{constructor(e,t,n,r){super(),this.animation=e,this.finalValue=t,this.finalTime=n,this.easing=r,this.canceled=!1,this.currentTime=0,this.initialValue=e.getValue()}start(){if(this.canceled)return;const e=this.currentTime;let t=null;const n=r=>{null===t&&(t=r),this.currentTime=e+r-t,this.update(),this.isTimeUp()?this.end():this.frame=s.AnimationFrame.request(n)};this.frame=s.AnimationFrame.request(n),this.emit("start")}pause(){this.canceled||(s.AnimationFrame.cancel(this.frame),this.emit("pause"))}cancel(){this.canceled||(this.canceled=!0,s.AnimationFrame.cancel(this.frame),this.emit("cancel"))}end(){this.canceled||(this.currentTime=0,this.emit("end"))}update(){let e=0;if(0===this.currentTime)e=this.initialValue;else if(this.isTimeUp())e=this.finalValue;else{const t=this.finalValue-this.initialValue;let n=this.currentTime*t/this.finalTime;if(null!==this.easing){const e=n/t;n=t*this.easing(e)}e=this.initialValue+n}this.animation.updateValue(e)}isTimeUp(){return this.currentTime>=this.finalTime}}t.Transition=i,t.default=i},664:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Comparer=void 0,t.Comparer=class{static compare(e,t){if(null===e)return null===t;if(Array.isArray(e))return!!Array.isArray(t)&&e.length===t.length&&e.every(((e,n)=>this.compare(e,t[n])));if("object"==typeof e){if(null===t)return!1;if(Array.isArray(t))return!1;if("object"!=typeof t)return!1;const n=Object.getOwnPropertyNames(e),r=Object.getOwnPropertyNames(t);return n.length===r.length&&n.every((n=>n in t&&this.compare(e[n],t[n])))}return e===t}}},3565:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Emitter=void 0;const r=n(2390);class s extends r.EverEmitter{constructor(){super({onError:(e,t,...n)=>{s.onError(e,t,...n)}})}}t.Emitter=s,s.onError=e=>{queueMicrotask((()=>{throw e}))}},3870:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Effect=void 0;const r=n(3565),s=n(664);class i extends r.Emitter{constructor(e,t){super(),this.closure=e,this.params=t,this.cleanup=null,this.on("run",(()=>{var e;this.cleanup=null!==(e=this.closure())&&void 0!==e?e:null})),this.on("cleanUp",(()=>{null!==this.cleanup&&this.cleanup()}))}run(e){null!==this.params&&null!==e&&s.Comparer.compare(this.params,e.params)?this.cleanup=e.cleanup:(null!==e&&e.cleanUp(),this.emit("run"))}cleanUp(){this.emit("cleanUp")}}t.Effect=i},8304:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Hook=void 0;const r=n(664),s=n(4946),i=n(8430),o=n(3870);class a{static useUpdate(){const e=this.activeHookster;if(null===e)throw new Error("Hook not available.");const t=e.index;return e.set(t,null),e.increment(),()=>e.update()}static useState(e){const t=this.activeHookster;if(null===t)throw new Error("Hook not available.");const n=t.index,r=t.has(n)?t.get(n):e;return t.set(n,r),t.increment(),[r,e=>t.updateValue(n,e)]}static useRef(e=null){const t=this.activeHookster;if(null===t)throw new Error("Hook not available.");const n=t.index,r=t.has(n)?t.get(n):new s.Ref(e);return t.set(n,r),t.increment(),r}static useVar(e){const t=this.activeHookster;if(null===t)throw new Error("Hook not available.");const n=t.index,r=t.has(n)?t.get(n):new i.Var(e);return t.set(n,r),t.increment(),r}static useMemo(e,t=[]){var n;const s=this.activeHookster;if(null===s)throw new Error("Hook not available.");const i=s.index,o=null!==(n=s.get(i))&&void 0!==n?n:null;let a=null;return null!==o&&r.Comparer.compare(t,o.params)&&(a={value:o.value,params:t}),null===a&&(a={value:e(),params:t}),s.set(i,a),s.increment(),a.value}static useEffect(e,t=null){const n=this.activeHookster;if(null===n)throw new Error("Hook not available.");const r=n.index,s=new o.Effect(e,t);n.addEffect(s),n.set(r,null),n.increment()}static useAsync(e,t=null){const n=this.activeHookster;if(null===n)throw new Error("Hook not available.");const r=n.index,s=new o.Effect((()=>{e()}),t);n.addEffect(s),n.set(r,null),n.increment()}static useContext(e,t){const n=Array.isArray(e)?e:[e],s=a.useUpdate(),i=t();return a.useEffect((()=>{let e;const o=()=>{clearTimeout(e),e=setTimeout((()=>{const e=t();r.Comparer.compare(i,e)||s()}))};for(const e of n)e.on("update",o);return()=>{for(const e of n)e.off("update",o)}})),i}static selectContext(e){return e.reduce(((e,t)=>{if(null===e)return null;const n=t(e);return null===n?null:Object.assign(Object.assign({},e),n)}),{})}static useAnimation(e,t){const n=a.useVar(t);a.useEffect((()=>(e.on("update",t),()=>{e.off("update",t)})),[]),a.useEffect(n.current)}}t.Hook=a,a.activeHookster=null},6120:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Hookster=void 0;const r=n(3565),s=n(664),i=n(946),o=n(8304);class a extends r.Emitter{constructor(){super(...arguments),this.index=0,this.prevIndex=null,this.values=[],this.nextValues=new Map,this.effects=[],this.prevEffects=[],this.hooked=!1,this.unhooked=!1,this.updateId=-1,this.nextUpdateId=0,this.promises=new Map}activate(){o.Hook.activeHookster=this,this.hooked&&(this.prevIndex=this.index,this.index=0,this.prevEffects=this.effects,this.effects=[],clearTimeout(this.timeout),this.updateId=this.nextUpdateId,this.nextUpdateId++,this.replace())}deactivate(){if(o.Hook.activeHookster=null,null!==this.prevIndex&&this.index!==this.prevIndex)throw new Error("Irregular number of hooks.")}has(e){return e<this.values.length}get(e){return this.values[e]}set(e,t){this.values[e]=t}increment(){this.index++}update(){return this.unhooked?new i.UpdatePromise(!1):this.queue()}updateValue(e,t){if(this.unhooked)return new i.UpdatePromise(!1);if(!this.nextValues.has(e)){const n=this.values[e];if(s.Comparer.compare(t,n))return new i.UpdatePromise(!0)}return this.nextValues.set(e,t),this.queue()}queue(){clearTimeout(this.timeout),this.timeout=setTimeout((()=>{this.emit("rerender")}));const e=new i.UpdatePromise(null);let t=this.promises.get(this.nextUpdateId);return void 0===t&&(t=[],this.promises.set(this.nextUpdateId,t)),t.push(e),e}replace(){this.nextValues.forEach(((e,t)=>{this.values[t]=e})),this.nextValues.clear()}settlePromises(e,t){const n=this.promises.get(e);void 0!==n&&(n.forEach((e=>{e.settle(t)})),this.promises.delete(e))}settle(e){this.settlePromises(this.updateId,e)}settleNext(e){this.settlePromises(this.nextUpdateId,e)}addEffect(e){this.effects.push(e)}runEffects(){this.effects.forEach(((e,t)=>{var n;const r=null!==(n=this.prevEffects[t])&&void 0!==n?n:null;e.run(r)}))}cleanUpEffects(){this.effects.forEach((e=>{e.cleanUp()}))}hook(e){this.off("rerender"),this.on("rerender",e),this.hooked?this.settle(!0):this.hooked=!0,this.runEffects()}unhook(){this.off("rerender"),this.hooked=!1,this.unhooked=!0,this.settleNext(!1),this.cleanUpEffects()}}t.Hookster=a},6786:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Persistor=void 0;const s=n(3565),i=n(5235);class o extends s.Emitter{constructor(e,t,n){var s,o,a;super(),this.Storage=t,this.contexts=e,this.name=null!==(s=null==n?void 0:n.name)&&void 0!==s?s:"app",this.version=null!==(o=null==n?void 0:n.version)&&void 0!==o?o:0,this.migrations=null!==(a=null==n?void 0:n.migrations)&&void 0!==a?a:{};const l=this;this.Provider=class extends i.Component{init(){this.state={loading:!0,error:!1},this.on("mount",(()=>r(this,void 0,void 0,(function*(){try{yield l.init()}catch(e){throw this.updateState({error:!0}),e}finally{this.updateState({loading:!1})}}))))}render(){const{loadingChildren:e=null,errorChildren:t=null,children:n}=this.props,{loading:r,error:s}=this.state;return s?t:r?e:n}}}init(){return r(this,void 0,void 0,(function*(){const e=yield this.read();let t={};null!==e&&(t=this.migrate(e.data,e.version)),this.bindContexts(),this.hydrateContexts(t),yield this.persist(),this.emit("init")}))}bindContexts(){let e;const t=()=>{clearTimeout(e),e=setTimeout((()=>{this.persist()}))};for(const e in this.contexts)this.contexts[e].on("update",t)}hydrateContexts(e){for(const t in this.contexts){const n=this.contexts[t];if(t in e){const r=e[t];n.hydrate(r)}}}persist(){return r(this,void 0,void 0,(function*(){const e={data:{},version:this.version};for(const t in this.contexts){const n=this.contexts[t];e.data[t]=n.persist()}yield this.write(e)}))}read(){return r(this,void 0,void 0,(function*(){const{Storage:e}=this,t=yield e.getItem(this.name);return null!==t?JSON.parse(t):null}))}write(e){return r(this,void 0,void 0,(function*(){const{Storage:t}=this,n=JSON.stringify(e);yield t.setItem(this.name,n)}))}migrate(e,t){return Object.keys(this.migrations).map((e=>parseInt(e))).filter((e=>e>t&&e<=this.version)).reduce(((e,t)=>(0,this.migrations[t])(e)),e)}}t.Persistor=o},4946:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ref=void 0,t.Ref=class{constructor(e=null){this.current=e}}},1495:function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.Slot=void 0;const s=n(5235);t.default=function(e,...t){let n=null,r=[];switch(t.length){case 0:break;case 1:Array.isArray(t[0])?r=t[0]:t[0]instanceof i?r=[t[0]]:null!==t[0]&&"object"==typeof t[0]?n=t[0]:r=[t[0]];break;default:n=t[0],r=Array.isArray(t[1])?t[1]:[t[1]]}const o=e,a="function"==typeof o&&/^class\s/.test(Function.prototype.toString.call(o));if(!(null===o||a&&(o.prototype===s.Component||o.prototype instanceof s.Component)||!a&&"function"==typeof o||"string"==typeof o))throw new Error("Content type must be a Component class, function, string or null.");if("object"!=typeof n||Array.isArray(n))throw new Error("Attributes must be object or null.");return new i(e,n,r)};class i{constructor(e,t,n){this.propsChildren=null,n=i.parseChildren(n);const r=e;null!==r&&(r.prototype===s.Component||r.prototype instanceof s.Component||"function"==typeof r)&&(this.propsChildren=n,n=[]),this.contentType=e,this.attributes=t,this.children=n}getContentType(){return this.contentType}getAttributes(){return this.attributes}getChildren(){return this.children}setChildren(e){let t=Array.isArray(e)?e:[e];t=i.parseChildren(t),this.children=t}isComponent(){const e=this.contentType;return null!==e&&(e.prototype===s.Component||e.prototype instanceof s.Component)}isFunction(){return"function"==typeof this.contentType&&!this.isComponent()}isElement(){return"string"==typeof this.contentType}isNull(){return null===this.contentType}getKey(){if(null===this.attributes)return null;const{key:e=null}=this.attributes;return e}getRef(){if(null===this.attributes)return null;const{ref:e=null}=this.attributes;return e}getProps(){var e,t;const n=null!==(e=this.attributes)&&void 0!==e?e:{},{key:s,ref:i}=n,o=r(n,["key","ref"]),a=null!==(t=this.propsChildren)&&void 0!==t?t:[];return Object.assign(Object.assign({},o),{children:a})}static parseChildren(e){return e.map(((t,n)=>{if(t instanceof i){const r=t.getKey();if(null!==r&&e.findIndex((e=>{if(!(e instanceof i))return!1;const t=e.getKey();return r===t}))!==n)throw new Error(`Repeated keys: ${r}`)}return Array.isArray(t)?new i(null,null,t):t}))}}t.Slot=i},5235:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Component=void 0;const r=n(2598),s=n(946);class i extends r.Stateful{constructor(e){super(),this.prevProps=null,this.nextProps=null,this.mounted=!1,this.unmounted=!1,this.props=e}update(){return this.unmounted?new s.UpdatePromise(!1):super.update()}updateState(e){return this.unmounted?new s.UpdatePromise(!1):super.updateState(e)}startUpdate(){this.emit("rerender")}updateProps(e){this.nextProps=e,this.performUpdate()}replaceUpdate(){super.replaceUpdate(),this.prevProps=this.props,null!==this.nextProps&&(this.props=this.nextProps),this.nextProps=null}triggerRender(e){this.off("rerender"),this.on("rerender",e),this.mounted?this.triggerUpdate():this.triggerMount(),this.emit("render")}triggerMount(){this.mounted=!0,this.emit("mount")}triggerUnmount(){this.off("rerender"),this.mounted=!1,this.unmounted=!0,this.settleNextUpdate(!1),this.emit("unmount")}render(){return[]}}t.Component=i,t.default=i},3415:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Context=void 0;const r=n(2598);class s extends r.Stateful{getState(){return this.state}persist(){return this.state}hydrate(e){this.state=e}startUpdate(){this.performUpdate(),this.triggerUpdate()}}t.Context=s},2598:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Stateful=void 0;const r=n(664),s=n(3565),i=n(946);class o extends s.Emitter{constructor(){super(...arguments),this.prevState=null,this.nextState=null,this.updateId=-1,this.nextUpdateId=0,this.updatePromises=new Map}init(){}update(){return this.queueUpdate()}updateState(e){if(null===this.nextState){const t=Object.assign(Object.assign({},this.state),e);if(r.Comparer.compare(t,this.state))return new i.UpdatePromise(!0)}return this.nextState=Object.assign(Object.assign(Object.assign({},this.state),this.nextState),e),this.queueUpdate()}queueUpdate(){clearTimeout(this.updateTimeout),this.updateTimeout=setTimeout((()=>{this.startUpdate()}));const e=new i.UpdatePromise(null);let t=this.updatePromises.get(this.nextUpdateId);return void 0===t&&(t=[],this.updatePromises.set(this.nextUpdateId,t)),t.push(e),e}performUpdate(){clearTimeout(this.updateTimeout),this.updateId=this.nextUpdateId,this.nextUpdateId++,this.replaceUpdate()}replaceUpdate(){this.prevState=this.state,null!==this.nextState&&(this.state=this.nextState),this.nextState=null}settleUpdatePromises(e,t){const n=this.updatePromises.get(e);void 0!==n&&(n.forEach((e=>{e.settle(t)})),this.updatePromises.delete(e))}settleUpdate(e){this.settleUpdatePromises(this.updateId,e)}settleNextUpdate(e){this.settleUpdatePromises(this.nextUpdateId,e)}triggerUpdate(){this.settleUpdate(!0),this.emit("update")}}t.Stateful=o},946:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UpdatePromise=void 0;const r=n(3565);t.UpdatePromise=class{constructor(e){this.value=e,this.emitter=new r.Emitter,this.settled=!1}done(e){return this.emitter.off("done"),this.emitter.on("done",e),!0===this.value&&this.settle(this.value),this}failed(e){return this.emitter.off("failed"),this.emitter.on("failed",e),!1===this.value&&this.settle(this.value),this}settle(e){this.settled||(this.settled=!0,this.emitter.emit(e?"done":"failed"))}}},8430:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Var=void 0,t.Var=class{constructor(e){this.current=e}}},628:function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Wrapper=void 0;const i=s(n(1495)),o=n(664),a=n(5235);class l extends a.Component{constructor(){super(...arguments),this.prevProps=null,this.nextProps=null,this.prevState=null,this.nextState=null,this.mounted=!1}update(){return super.update()}updateState(e){return super.updateState(e)}}t.Wrapper=class{static wrapComponent(e){return class extends l{init(){var t;this.renderClosure=null!==(t=e(this))&&void 0!==t?t:null}render(){return null===this.renderClosure?null:this.renderClosure(this.props,this.state)}}}static wrapProps(e,t){return function(n){var{children:s}=n,o=r(n,["children"]);const a=t(o);if(null===a)return null;const l=Object.assign(Object.assign({},o),a);return(0,i.default)(e,l,s)}}static wrapContext(e,t,...n){const s=Array.isArray(t)?t:[t];return class extends a.Component{constructor(){super(...arguments),this.result=null}init(){let e;const t=()=>{clearTimeout(e),e=setTimeout((()=>{this.compare()}))};this.on("mount",(()=>{for(const e of s)e.on("update",t)})),this.on("unmount",(()=>{for(const e of s)e.off("update",t)}))}select(){return n.reduce(((e,t)=>{if(null===e)return null;const n=this.props,{children:s}=n,i=r(n,["children"]),o=t(Object.assign(Object.assign({},i),e));return null===o?null:Object.assign(Object.assign({},e),o)}),{})}compare(){const e=this.select();o.Comparer.compare(e,this.result)||this.update()}render(){const t=this.props,{children:n}=t,s=r(t,["children"]);if(this.result=this.select(),null===this.result)return null;const o=Object.assign(Object.assign({},s),this.result);return(0,i.default)(e,o,n)}}}}},1479:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1495);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}}),s(n(1495),t),s(n(4946),t),s(n(8430),t),s(n(628),t),s(n(6786),t),s(n(664),t),s(n(3565),t),s(n(3415),t),s(n(5235),t),s(n(8304),t),s(n(6120),t),s(n(420),t),s(n(6681),t),s(n(195),t)}},t={};!function n(r){var s=t[r];if(void 0!==s)return s.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}(7729)})();